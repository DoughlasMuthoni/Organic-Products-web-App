





{% extends 'partials/base.html' %}
{% load static %}
{% block title %} Customer Dashboard {% endblock %}


{% block content %}
<body>
  <div class="dashboard-container">
    <!-- Sidebar -->
    <div class="sidebar p-3">
      <h4 class="text-center mb-4">Dashboard</h4>
      <nav class="nav flex-column">
        <a class="nav-link active text-dark" href="#" onclick="showSection('profile')">
          <i class="fas fa-user-alt"></i> Profile
        </a>
        <a class="nav-link text-dark" href="#" onclick="showSection('logout')">
          <i class="fas fa-sign-out-alt"></i> Logout
        </a>
      </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Profile Section -->
       
      <div id="profile-section">
        <h2 class="mb-4 text-success"> Update Profile</h2>
        <p class="text-muted">Welcome to your profile! Here, you can view and update your personal information.</p>
        <div class="card shadow-sm p-4">
          <div class="row align-items-center">
            {% if profile.image %}
              <div class="col-md-4 text-center">
                  
                  <img 
                      src="{{ profile.image.url }}" 
                      alt="Profile Picture" 
                      class="rounded-circle img-fluid" 
                      style="height: 150px; width: 150px; object-fit: cover;">
              </div>
            {% else %}
              <div>
                  
                  <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAJQAlAMBIgACEQEDEQH/xAAbAAEAAwEBAQEAAAAAAAAAAAAAAwQFAgEGB//EADIQAAICAQICCQMDBAMAAAAAAAABAgMEESESMQUTIjJBUVJhcRRCkYGhsTRicqIjU8H/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A/cQAAAI7bYVRcpvRfyBIQXZVVW0pay8kUMjNst2hrCHtzZVAu2dIzb/44qPzuV5ZN8+9bL9NiIAeuTlzbb92ebgAdxtsjyskvhk0M66PN8XyVgBp1dIQltZFwftui3CcZxUotNPxRgnVdk6pcUJNMDeBTxs2NjUbOzN/hlwAAAAAAAHF1kaoOcnokBxk5EKK+KXN8o+ZkXWzulxTe/7IXWytsc5c/wCDgAAAAAAAAAAAAAAF7DzHFqu56x8JPw+SiAPoAZ+Bk8qZvf7WaAAAADJ6Qv623gi+zD92X8y3qaJSXeeyMYAAAAAAElVFlvcjqvPwLWHh8a47o9nwj5mikktEtEgM2HRs335xXxudvo1/9v8AqaAAyLMG6HJKa9is009GtH5H0BBkY1d8e0tJeElzAxgd3VSpnwT5+HucAAAATa5PR+Zs4l3XVKX3LZmMWcC3q70vtls//ANcHh6BmdJz1sjD0rUpEuVLjybH/dp+CIAAABYwaOut1fcju/f2K5rdH18GNF+MtwLKPQAAAAAACvmUddU9F21vFmOfQGNmw6vImlstdUBAAAATaeq5gAbtM+OqM/NanhX6OsX0+jfKTQAzJPik34ttngAAAADbxv6ev/FGIbODLixYey0AnAAAAAAAAMrpP+oX+JqmR0hNSyZafbsBWAAAAAT0W8EGvcEUYtrYAe3R4brF5SOCz0hDhyW/VuVgAAAF3o27hm65PaW6+SkE2mmtmgPoAVMPKVqUZvSz+S2AAAAA5nOMIuU2kkBzfYqqnN+HIxG3JuT5smy8h3z22guSIAAAAAAC9g08dLl/cC3hQ4MaC5arUAQ9J18VcZrnF6foZhvTipwcZLVNaMw7a3VNwlzTA5AAAAlhj22d2uXy1oBEW6c+yGimuNfO5z9DkehflD6HI9K/KAuRz6X3tYv3R087H9f+rKP0OR6F+UPocj0r8oCxZ0jHlXBv3lsUrrrLpa2S18kvAl+hyPSvyh9DkelflAVgTyw8iO7hqvZ6kMk4vSSafk1oB4AAB3RW7bYw9TODR6Mp0TufN7IC8uW2wPQAKfSFHWQ44Ltx8PNFwAfPnVdcrZqEFq3+xczsVxbtrXZfeS8Pcm6OVSp1i9Z/cB3j4ldSTfal5vw+CyAAAAAAAAAAOLK4WR0nFSXudgDJy8N0vjhvX+6KpvySaaa203MeVKnkuvH7S128kBzjUu+xRXd8WbUYqKSjslyRHj0RorUY7vxfmSgAAAAAAo34sq59bi7S8Yl4AVMfMjN8FnYs5aPxLZBfjV395aS9S5lfhy8buvrYLwAvgpw6Qrb4bE4SLMLa592cX8MDsAAAeNpc2l8kNmXRDnYn7LcCc4sshXHWbSRU+rtu2xqn/kxXhOcuPJm5y8lyA5lbbmvgpTjX9zLdFEKIaQW/i/MkilFaJJJeR6AAAAAAAAAAAAAAcTqrmu3BS+UVrMCjTWPFH4YAFO2DqekJzX6kanOXOcvyeAC3RiV26Obk/wBS1DDor5Vp/O56AJktNvI9AAAAAAAAAA//2Q==" style="height: 150px; width: 150px; object-fit: cover;">
              </div>
            {% endif %}
            <div class="col-md-8">
              <h4 class="text-success">Your Information</h4>
              {% if form.errors %}
              <div class="alert-danger alart">
                <strong>{{ form.errors }}</strong>
              </div>
              {% endif %}
              <form method="POST" enctype="multipart/form-data">
               {% csrf_token %}
                    {{ form }}
                    <div class="mb-3">
                    {% if profile.verified == True %}
                    <span class="badge bg-success">Verified <i class="fas fa-check-circle"></i></span>
                    {% else %}
                    <span class="badge bg-danger">Not Verified <i class="fa fa-times"></i></span>
                    {% endif %}
                    </div>
                    <button type="submit" class="btn btn-success">Save Changes</button>
                    
              </form>
            </div>
          </div>
        </div>
      </div>
     
      <!-- Logout Section -->
      <div id="logout-section" style="display: none;">
        <h2 class="mb-4">Logout</h2>
        <p>Are you sure you want to logout?</p>
        <button class="btn btn-danger"><a href="{% url 'user_authens:sign-out' %}">Logout </a></button>
      </div>
    </div>
  </div>

  <!-- JavaScript for Content Toggle -->
  <script>
    function showSection(section) {
      // Hide all sections
      document.querySelectorAll('.main-content > div').forEach(div => div.style.display = 'none');
      document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));

      // Show selected section
      document.getElementById(`${section}-section`).style.display = 'block';
      document.querySelector(`a[onclick="showSection('${section}')"]`).classList.add('active');
    }

    // Show profile by default
    showSection('profile');
  </script>
</body>
{% endblock %}
